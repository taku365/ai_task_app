# AI Task App プロジェクト状況整理(2026/02/26)

## プロジェクト概要
Laravel + MySQL + OpenAI APIを使用したタスク管理システム

## 現在やったこと

### 1. 環境構築・設定
- ✅ Laravel プロジェクトの初期化
- ✅ MAMP環境でのMySQL接続設定（ポート8889、root/root）
- ✅ OpenAI API キーの設定（.env）
- ✅ 基本的なディレクトリ構造の確認

### 2. データベース設計・構築
- ✅ データベース設計書の作成（DB設計.md）
- ✅ MySQL直接接続でのテーブル作成
  - ai_tasks_M_priorities（優先度マスター）+ 初期データ投入
  - ai_tasks_M_users（ユーザーマスター）
  - ai_tasks_T_tasks（タスクテーブル）+ 外部キー制約
- ❌ **未実施：Laravelマイグレーションファイルの作成**

### 3. アプリケーション実装
- ✅ TaskController の基本実装
  - index()：タスク一覧表示（現在は空配列）
  - settings()：設定画面
  - analyzeTask()：OpenAI API連携によるタスク解析機能
- ✅ ルーティング設定（web.php）
- ✅ OpenAI APIとの連携実装
- ❌ **未実施：データベースとの連携（Eloquentモデル）**
- ❌ **未実施：実際のタスクデータの保存・取得機能**

### 4. 重要な問題点
- ⚠️ **Laravel設定がSQLiteになっている**（.env: DB_CONNECTION=sqlite）
- ⚠️ **MySQLとの連携設定が未完了**
- ⚠️ **Eloquentモデルが未作成**

## 今後やるべきこと（優先順位順）

### 【最優先】データベース連携の修正
1. **Laravel の MySQL接続設定を修正**
   - .env ファイルでDB_CONNECTION=mysql に変更
   - MAMP MySQL設定（host:127.0.0.1, port:8889）を反映
2. **Eloquentモデルの作成**
   - Task モデル
   - User モデル（カスタマイズ）
   - Priority モデル
3. **マイグレーションファイルの作成**
   - 既存テーブル構造に合わせたマイグレーション
   - シーダーファイルでテストデータ投入

### 【次に重要】基本機能の実装
4. **TaskController の完成**
   - データベースからのタスク取得
   - タスクの保存機能
   - フィルタリング機能（担当者別、状態別）
5. **ビュー（画面）の実装**
   - タスク一覧画面の完成
   - タスク登録フォーム
   - 各種フィルタ画面（自分、メンバー、未割当、完了）

### 【機能拡張】
6. **認証機能の実装**
   - ログイン機能
   - ユーザー管理
7. **UI/UX改善**
   - レスポンシブデザイン
   - Ajax によるリアルタイム更新

## 現在の技術的な疑問・課題

### 解決済み
- ✅ MAMP MySQL接続方法
- ✅ テーブル作成方法
- ✅ OpenAI API連携方法

### 要解決
- ❓ **Laravel マイグレーションと既存テーブルの整合性**
  - 既にMySQLに直接作成したテーブルとマイグレーションをどう整合させるか
- ❓ **テストデータの効率的な投入方法**
  - Seeder vs 直接SQL投入
- ❓ **認証機能の実装方針**
  - Laravel標準認証 vs カスタム実装

## 次のステップ
1. まず.envファイルのDB設定をMySQLに変更
2. Eloquentモデルを作成してデータベース連携を確立
3. テストデータを投入して基本的なCRUD操作を確認
