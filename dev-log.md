# AI Task App 開発ログ

## プロジェクト概要
Laravel + MySQL + OpenAI APIを使用したタスク管理システム
最終的には、音声入力でタスクを登録し、AIがタスクを解析して、タスクを管理するシステムを作成する。

<br>

**2026/02/26**

#### 進捗状況
- Laravel プロジェクトの初期化
- MAMP環境でのMySQL接続設定（ポート8889、root/root）
- OpenAI API キーの設定（.env）
- 基本的なディレクトリ構造の確認
- データベース設計書の作成（DB設計.md）
- MySQL直接接続でのテーブル作成
- ai_tasks_M_priorities（優先度マスター）+ 初期データ投入
- ai_tasks_M_users（ユーザーマスター）
- ai_tasks_T_tasks（タスクテーブル）+ 外部キー制約
- TaskController の基本実装
  - index()：タスク一覧表示（現在は空配列）
  - settings()：設定画面
  - analyzeTask()：OpenAI API連携によるタスク解析機能
- ルーティング設定（web.php）
- OpenAI APIとの連携実装
- Eloquentモデルの作成

#### 理解が曖昧な部分
- Eloquentのリレーション（テーブル同士の関係構築）
- Laravel特有のデータベース操作方法（Eloquentの使い方など）

#### 次のステップ
- マイグレーションファイルの作成
- テストデータをデータベースに挿入
- 全件取得を試して、画面に表示確認
- フィルターチップを使い、以下の4種のフィルター表示を実装確認
    * 自分のタスク
    * 他メンバーのタスク
    * 未割り当てのタスク
    * 完了フラグ済みのタスク


**2026/02/27**

#### 進捗状況
- users,priorities,tasksテーブルのマイグレーションファイルを作成
- マイグレーションファイルの初期コードを読む
  - 参考になりそう https://zenn.dev/levtech/articles/perfect-manual-for-laravel-migration
- prioritiesテーブルについては、初期データを投入するためのSeederファイルを作成
- テストユーザーとテストタスクを作成するためのFactoryファイルを作成
- テストユーザーとテストタスクを作成するためのSeederファイルを作成
- 全件取得の確認OK

#### 検討＆結果
- クライアントサイドフィルタリングかサーバーサイドフィルタリングか
 - サーバーサイドフィルタリング (タブごとにサーバーにリクエストを送り、フィルタリング済みのデータを返す)を採用
 - 理由：データ取得設計を学べるため

ログインユーザーをどうするか（簡易的なユーザーで進めるか、本格的な認証を実装するか）
 - まずは簡易的なユーザー (matsuda@example.com) で進める

#### 理解が曖昧な部分
- $this とはなにか
  - 今動いているオブジェクト自身、クラスにいるときの自分自身
- Blueprintクラスが何をしているのか
  - 「これから作る / 変更するテーブルの設計情報をためておく箱」
- N+1問題とはなにか

#### 次のステップ
- TestController.php を修正して、フィルターごとに表示が変わるかをテストする
